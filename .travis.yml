language: java
addons:
    apt:
        packages:
            - swig
jdk:
    - oraclejdk8
before_install:
    - bash gdal_2.0.0_jni.sh
    - export LD_LIBRARY_PATH=RGISuite/lib:$HOME/gdal_2.0.0/lib:$HOME/gdal_2.0.0/swig/java
    - export GDAL_DATA=$HOME/gdal_2.0.0/share/gdal
    - export PATH=$PATH:RGISuite/lib:$HOME/gdal_2.0.0/lib
install:
    - ./install-deps-linux.sh
    - mvn test-compile -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script:
    - mvn test
after_success:
    - mvn clean cobertura:cobertura coveralls:report
cache:
    directories:
        - $HOME/.m2
        - $HOME/gdal_2.0.0
